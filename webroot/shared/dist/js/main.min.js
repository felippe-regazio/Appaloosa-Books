var waitToShowLoading=1500;function getUrlParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function closeCurrentTile(){if((!$(".tile.active").removeClass("active").length||!$(".ap-sidebar.put-behind").removeClass("put-behind").length)&&!($(".ap-support.ap-support-open").removeClass("ap-support-open").length||$(".ap-mail-to.ap-mail-to-open").removeClass("ap-mail-to-open").length||$(".ap-author-details.about-author-open").removeClass("about-author-open").length||$(".ap-book-details.cover-expand").removeClass("cover-expand").length||$(".ap-contact.ap-contact-open").removeClass("ap-contact-open").length))return $(".ap-book-details.active").removeClass("active").length?($("body").removeClass("overflow-hidden"),void window.history.pushState(null,document.title,"/")):$(".ap-authors-list.ap-authors-list-open").removeClass("ap-authors-list-open").length?($("body").removeClass("overflow-hidden"),void window.history.pushState(null,document.title,"/")):void 0}function hasTouch(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}if(setTimeout(function(){$("body.loading").addClass("wait")},waitToShowLoading),$(window).on("load",function(e){$.when($("body").removeClass("loading wait")).then(function(){setTimeout(function(){$("body").removeClass("fadeIn")},500)})}),$(document).keyup(function(e){"Escape"==e.key&&closeCurrentTile()}),$(document).swipe({preventDefaultEvents:!1,swipeRight:function(){""==window.getSelection().toString()&&closeCurrentTile()},swipeLeft:function(){if(""==window.getSelection().toString()){if($(".ap-book-details.cover-expand").removeClass("cover-expand").length)return;$(".ap-sidebar").hasClass("active")&&$(".ap-navbar-hamburger").trigger("click")}}}),hasTouch())try{for(var si in document.styleSheets){var styleSheet=document.styleSheets[si];if(styleSheet.rules)for(var ri=styleSheet.rules.length-1;0<=ri;ri--)styleSheet.rules[ri].selectorText&&styleSheet.rules[ri].selectorText.match(":hover")&&styleSheet.deleteRule(ri)}}catch(e){}function newSwiper(e,o){"undefined"!=typeof Swiper&&$(e).each(function(e,t){$(this).addClass("apsw-"+e),new Swiper(".apsw-"+e,Object.assign({slidesPerView:"auto",mode:"horizontal",breakpoints:{768:{slidesPerView:"auto",centeredSlides:!0}},grabCursor:!0,navigation:{nextEl:$(this).find(".arrow-next"),prevEl:$(this).find(".arrow-prev")}},o))})}